{"ast":null,"code":"// import { onBeforeMount } from 'vue';\nexport default {\n  name: 'Home-crud',\n\n  data() {\n    return {\n      treinamentos: {},\n      obj: {},\n      treinamentoSelecionado: false\n    };\n  },\n\n  beforeMount() {\n    this.listar();\n  },\n\n  methods: {\n    async listar() {\n      const requisicao = await fetch(\"https://localhost:7207/api/Treinamento\");\n      const retorno = await requisicao.json();\n      this.treinamentos = retorno;\n    },\n\n    async cadastrar() {\n      const requisicao = new Request(\"https://localhost:7207/api/Treinamento\", {\n        method: \"post\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.obj)\n      });\n      const executarRequisicao = await fetch(requisicao);\n      const retorno = await executarRequisicao.json();\n      this.treinamentos.push(retorno);\n    },\n\n    selecionar(indice) {\n      this.treinamentoSelecionado = true;\n      this.obj = this.treinamentos[indice];\n    },\n\n    cancelar() {\n      this.treinamentoSelecionado = false;\n      this.obj = {};\n    },\n\n    async alterar() {\n      const requisicao = new Request(`https://localhost:7207/api/Treinamento/${this.obj.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.obj)\n      });\n      await fetch(requisicao);\n      await this.listar();\n      this.cancelar();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA;AAEE,eACA;EACEA,IAAI,EAAE,WADR;;EAEEC,IAAI,GACJ;IACE,OAAM;MACJC,YAAY,EAAE,EADV;MAEJC,GAAG,EAAE,EAFD;MAGJC,sBAAsB,EAAE;IAHpB,CAAN;EAKD,CATH;;EAUEC,WAAW,GAAE;IACX,KAAKC,MAAL;EACD,CAZH;;EAaEC,OAAO,EACP;IACE,MAAMD,MAAN,GAAc;MACZ,MAAME,UAAS,GAAI,MAAMC,KAAI,CAAG,wCAAH,CAA7B;MACA,MAAMC,OAAM,GAAI,MAAMF,UAAU,CAACG,IAAX,EAAtB;MACA,KAAKT,YAAL,GAAoBQ,OAApB;IACD,CALH;;IAME,MAAME,SAAN,GAAiB;MACf,MAAMJ,UAAS,GAAI,IAAIK,OAAJ,CAAY,wCAAZ,EACjB;QACEC,MAAM,EAAE,MADV;QAEEC,OAAO,EAAE;UACP,UAAU,kBADH;UAEP,gBAAiB;QAFV,CAFX;QAMEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKf,GAApB;MANR,CADiB,CAAnB;MAWA,MAAMgB,kBAAiB,GAAI,MAAMV,KAAK,CAACD,UAAD,CAAtC;MACA,MAAME,OAAM,GAAI,MAAMS,kBAAkB,CAACR,IAAnB,EAAtB;MACA,KAAKT,YAAL,CAAkBkB,IAAlB,CAAuBV,OAAvB;IAED,CAtBH;;IAuBEW,UAAU,CAACC,MAAD,EAAQ;MAChB,KAAKlB,sBAAL,GAA8B,IAA9B;MACA,KAAKD,GAAL,GAAW,KAAKD,YAAL,CAAkBoB,MAAlB,CAAX;IACD,CA1BH;;IA2BEC,QAAQ,GAAE;MACR,KAAKnB,sBAAL,GAA8B,KAA9B;MACA,KAAKD,GAAL,GAAW,EAAX;IACD,CA9BH;;IA+BE,MAAMqB,OAAN,GAAe;MACb,MAAMhB,UAAS,GAAI,IAAIK,OAAJ,CAAa,0CAAyC,KAAKV,GAAL,CAASsB,EAAG,EAAlE,EACjB;QACEX,MAAM,EAAE,KADV;QAEEC,OAAO,EAAE;UACP,UAAU,kBADH;UAEP,gBAAiB;QAFV,CAFX;QAMEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKf,GAApB;MANR,CADiB,CAAnB;MAWA,MAAMM,KAAK,CAACD,UAAD,CAAX;MAEA,MAAM,KAAKF,MAAL,EAAN;MACA,KAAKiB,QAAL;IACF;;EA/CF;AAdF,CADA","names":["name","data","treinamentos","obj","treinamentoSelecionado","beforeMount","listar","methods","requisicao","fetch","retorno","json","cadastrar","Request","method","headers","body","JSON","stringify","executarRequisicao","push","selecionar","indice","cancelar","alterar","id"],"sourceRoot":"","sources":["C:\\Users\\CyberQ\\treinamento\\src\\components\\HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"Home-crud\">\n    <form>\n      <input type=\"text\" v-model=\"obj.nome\" placeholder=\"Nome do curso\" class=\"form-control\">\n      <input type=\"number\" v-model=\"obj.valor\" placeholder=\"Valor do curso\" class=\"form-control\">\n      <input type=\"button\" value=\"Cadastrar\" v-on:click=\"cadastrar()\" v-if=\"treinamentoSelecionado == false\" class=\"btn btn-primary\">\n      <input type=\"button\" value=\"Alterar\" v-if=\"treinamentoSelecionado == true\" class=\"btn btn-warning\">\n      <input type=\"button\" value=\"Remover\" v-if=\"treinamentoSelecionado == true\" class=\"btn btn-danger\">\n      <input type=\"button\" value=\"Cancelar\" v-on:click=\"cancelar()\" v-if=\"treinamentoSelecionado == true\" class=\"btn btn-dark\">\n    </form>\n\n    <table class=\"table\" v-if=\"treinamentoSelecionado == false\">\n\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Treinamento</th>\n          <th>Valor</th>\n          <th>Selecionar</th>\n        </tr>\n      </thead>\n\n      <tbody v-for=\"(treinamento, indice) in treinamentos\" v-bind:key=\"treinamento.id\">\n        <tr>\n          <td>{{indice+1}}</td>\n          <td>{{treinamento.nome}}</td>\n          <td>{{treinamento.valor}}</td>\n          <td><button class=\"btn btn-success\" v-on:click=\"selecionar(indice)\">Selecionar</button></td>\n        </tr>\n      </tbody>\n\n    </table>\n  </div>\n</template>\n\n<script>\n// import { onBeforeMount } from 'vue';\n\n  export default \n  {\n    name: 'Home-crud',\n    data()\n    {\n      return{\n        treinamentos: {},\n        obj: {},\n        treinamentoSelecionado: false\n      }\n    },\n    beforeMount(){\n      this.listar();\n    },\n    methods: \n    {\n      async listar(){\n        const requisicao = await fetch (\"https://localhost:7207/api/Treinamento\");\n        const retorno = await requisicao.json();\n        this.treinamentos = retorno;\n      },\n      async cadastrar(){\n        const requisicao = new Request(\"https://localhost:7207/api/Treinamento\",\n          {\n            method: \"post\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\" : \"application/json\"\n            },\n            body: JSON.stringify(this.obj)\n          }\n        );\n\n        const executarRequisicao = await fetch(requisicao);\n        const retorno = await executarRequisicao.json();\n        this.treinamentos.push(retorno);  \n\n      },\n      selecionar(indice){\n        this.treinamentoSelecionado = true;\n        this.obj = this.treinamentos[indice];\n      },\n      cancelar(){\n        this.treinamentoSelecionado = false;\n        this.obj = {};\n      },\n      async alterar(){\n        const requisicao = new Request(`https://localhost:7207/api/Treinamento/${this.obj.id}`,\n          {\n            method: \"PUT\",\n            headers: {\n              \"Accept\": \"application/json\",\n              \"Content-Type\" : \"application/json\"\n            },\n            body: JSON.stringify(this.obj)\n          }\n        );\n\n        await fetch(requisicao);\n\n        await this.listar();\n        this.cancelar();\n      }\n      \n    }\n  };\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}